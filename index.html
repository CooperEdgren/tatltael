<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TatlTael</title>

    <!-- PWA & Mobile Optimization Tags -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#03000a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="TatlTael">
    
    <!-- App Icons -->
    <link rel="apple-touch-icon" id="apple-touch-icon" href="app-icon/icon-1024x1024.png">
    <link rel="icon" id="favicon" href="app-icon/icon-192x192.png" type="image/png">

    <!-- Preloaded Icon Options -->
    <link rel="preload" as="image" href="app-icon/icon-1024x1024.png">
    <link rel="preload" as="image" href="images/moon.png">
    <link rel="preload" as="image" href="images/bombers-notebook.png">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Almendra:wght@700&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Howler.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>

    <!-- Custom Stylesheet -->
    <link rel="stylesheet" href="style.css">
    
</head>
<body class="bg-[#03000a]">

    <!-- Diagonal Wipe for Game Change -->
    <div id="diagonal-wipe" class="diagonal-wipe"></div>

    <!-- CSS Animated Background -->
    <div class="background-effects">
        <div id="stars1"></div>
        <div id="stars2"></div>
        <div id="stars3"></div>
        <img src="images/moon.png" alt="The Moon" id="moon-image" loading="lazy">
        
        <!-- Animated Clock Town Layers -->
        <div id="animated-background-mm" class="animated-background">
            <img src="images/clocktown/clocktownBaseLayer.png" alt="Clock Town" id="clocktown-base" loading="lazy">
            <img src="images/clocktown/volcanocloudLayer.png" alt="Volcano Cloud" id="volcano-cloud" loading="lazy">
            <div id="middle-smoke-container">
                <img src="images/clocktown/middlesmokingLayer1.png" alt="smoke" class="smoke-frame" loading="lazy">
                <img src="images/clocktown/middlesmokingLayer2.png" alt="smoke" class="smoke-frame" loading="lazy">
                <img src="images/clocktown/middlesmokingLayer3.png" alt="smoke" class="smoke-frame" loading="lazy">
            </div>
            <div id="right-smoke-container">
                <img src="images/clocktown/rightsmokingLayer1.png" alt="smoke" class="smoke-frame" loading="lazy">
                <img src="images/clocktown/rightsmokingLayer2.png" alt="smoke" class="smoke-frame" loading="lazy">
                <img src="images/clocktown/rightsmokingLayer3.png" alt="smoke" class="smoke-frame" loading="lazy">
                <img src="images/clocktown/rightsmokingLayer4.png" alt="smoke" class="smoke-frame" loading="lazy">
            </div>
            <img src="images/clocktown/item-dekuLayer.png" alt="Flying Deku" id="flying-deku" loading="lazy">
        </div>
        <!-- Placeholder for Ocarina of Time Background -->
        <div id="animated-background-oot" class="animated-background hidden">
            <!-- Add OOT background layers here, e.g., Hyrule Field -->
        </div>
    </div>
    
    <!-- Tingle Icon -->
    <div class="corner-icons-container">
        <div id="tingle-container">
            <img src="images/tinglemyboy.png" alt="Tingle" id="tingle-image" loading="lazy">
        </div>
    </div>

    <!-- Main Application Wrapper -->
    <div id="app-wrapper" class="relative w-full min-h-screen flex items-center justify-center p-4">

        <!-- Loading Indicator -->
        <div id="loading-indicator" class="hidden absolute z-50 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2">
            <div class="w-16 h-16 border-4 border-t-transparent border-purple-400 rounded-full animate-spin"></div>
        </div>

        <!-- Main Screen -->
        <div id="main-screen" class="view-container is-active">
            <!-- Header and Nav -->
            <header class="absolute top-0 pt-6 w-full flex justify-center z-20" id="main-header">
                <div id="main-nav-container" class="relative flex justify-center items-center">
                    <nav id="nav-pill" class="absolute flex items-center justify-center">
                        <div class="flex items-center justify-between w-full">
                             <div class="nav-wing flex items-center" id="nav-wing-left">
                                <button class="nav-item" data-content="songs">
                                    <img src="images/songs_icon.png" alt="Songs" loading="lazy">
                                    <span>Songs</span>
                                </button>
                                <button class="nav-item" data-content="items">
                                    <img src="images/items_icon.png" alt="Items" loading="lazy">
                                    <span>Items</span>
                                </button>
                                <button class="nav-item" data-content="heart-containers">
                                    <img src="images/heart_container_icon.png" alt="Heart Containers" loading="lazy">
                                    <span>Hearts</span>
                                </button>
                            </div>
                             <div class="nav-wing flex items-center" id="nav-wing-right">
                                <button class="nav-item" data-content="notebook">
                                    <img src="images/bombers-notebook.png" alt="Bomber's Notebook" loading="lazy">
                                    <span id="notebook-label">Notebook</span>
                                </button>
                                <button class="nav-item" data-content="fairies">
                                    <img src="images/stray_fairy_icon.webp" alt="Fairies" loading="lazy">
                                    <span id="fairies-label">Fairies</span>
                                </button>
                                <button class="nav-item" data-content="termina">
                                    <img src="images/map_icon.png" alt="Termina" loading="lazy">
                                    <span>Termina</span>
                                </button>
                            </div>
                        </div>
                    </nav>
                    <button id="main-title-button" class="relative">
                        <span class="tatl">Tatl</span><span class="tael">Tael</span>
                    </button>
                    <div id="settings-container" class="settings-container">
                        <button id="settings-button" class="settings-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
                        </button>
                        <div id="settings-menu" class="settings-menu">
                            <div class="settings-section">
                                <label for="volume-slider" class="text-sm font-medium text-purple-200">Music Volume</label>
                                <div class="flex items-center gap-2">
                                    <input id="volume-slider" type="range" min="0" max="1" step="0.05" class="w-full">
                                    <button id="mute-toggle" class="p-1">
                                        <svg id="icon-volume-on" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>
                                        <svg id="icon-volume-off" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9"x2="23" y2="15"></line></svg>
                                    </button>
                                </div>
                            </div>
                            <div class="settings-section">
                                <label class="text-sm font-medium text-purple-200">App Icon</label>
                                <div id="app-icon-options" class="grid grid-cols-3 gap-2 pt-2">
                                    <!-- App icon options will be populated here by JS -->
                                </div>
                            </div>
                            <div class="settings-section">
                                <button id="clear-data-button" class="w-full text-sm font-medium text-red-400 bg-red-500/10 hover:bg-red-500/20 py-2 px-4 rounded-lg border border-red-500/30 transition-colors">
                                    Clear App Data
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            
            <div id="fairy-container" class="pointer-events-none">
                <img src="images/tatl.png" class="fairy" id="tatl-fairy" alt="Tatl" loading="lazy">
                <img src="images/tael.png" class="fairy" id="tael-fairy" alt="Tael" loading="lazy">
            </div>

            <!-- Content Area for Nav Items -->
            <div id="main-content-area" class="w-full max-w-7xl mx-auto pt-40">
                <main id="song-grid-content" class="main-content hidden">
                    <div id="song-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 w-full"></div>
                </main>
                <div id="items-content" class="main-content hidden">
                    <div class="w-full h-full max-w-screen-xl p-4 md:p-6 rounded-2xl main-container flex flex-col">
                        <header class="flex flex-col sm:flex-row justify-between items-center mb-4 border-b border-purple-400/30 pb-3 flex-shrink-0">
                            <h2 class="text-3xl md:text-4xl text-yellow-200 title-glow mb-4 sm:mb-0">Items</h2>
                            <div class="w-full sm:w-auto flex flex-col sm:flex-row items-center gap-4">
                                <div id="item-category-tabs" class="flex items-center gap-2 bg-black/20 p-1 rounded-full"></div>
                                <div class="relative w-full sm:w-64">
                                    <input type="text" id="item-search-input" class="w-full bg-black/30 border border-purple-400/30 rounded-full py-2 px-4 text-white placeholder-purple-200/50 focus:outline-none focus:border-yellow-300 focus:ring-1 focus:ring-yellow-300" placeholder="Search for an item...">
                                    <svg class="absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-purple-200/50" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                                </div>
                            </div>
                        </header>
                        <main id="item-grid-container" class="flex-grow overflow-y-auto p-2">
                            <div id="item-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4"></div>
                        </main>
                    </div>
                </div>
                <div id="notebook-content" class="main-content hidden">
                     <div class="w-full h-full max-w-screen-2xl p-2 md:p-4 rounded-2xl main-container flex flex-col">
                        <div class="flex-shrink-0 flex justify-between items-center px-4 md:px-6 py-2 border-b-4 border-yellow-700/50">
                            <h2 id="notebook-title" class="text-3xl md:text-4xl text-yellow-200 title-glow">Bomber's Notebook</h2>
                            <div class="flex items-center gap-2">
                                <label for="bomber-code-input" class="font-zelda text-yellow-200 text-lg">Code:</label>
                                <input type="text" id="bomber-code-input" class="bomber-code-input" maxlength="5" placeholder="_ _ _ _ _">
                            </div>
                        </div>
                        <div class="flex-grow md:flex-grow-0 flex flex-col md:flex-row gap-4 min-h-0 p-2 md:p-4">
                            <aside class="w-full md:w-1/3 lg:w-1/4 flex-shrink-0 flex flex-col">
                                <div class="notebook-tabs-container">
                                    <button class="notebook-tab active" data-tab="scheduled">Events</button>
                                    <button class="notebook-tab" data-tab="completed">Completed</button>
                                    <button class="notebook-tab" data-tab="characters">Characters</button>
                                </div>
                                <div id="quest-list-container" class="bg-black/10 rounded-b-xl p-2 overflow-y-auto flex-grow notebook-paper-texture"></div>
                                <div id="character-schedule-container" class="hidden bg-black/10 rounded-b-xl p-2 overflow-y-auto flex-grow notebook-paper-texture"></div>
                            </aside>
                            <main id="notebook-detail-container" class="flex-grow flex flex-col bg-black/10 rounded-xl p-4 md:p-6 notebook-paper-texture">
                                <div id="notebook-placeholder-view" class="flex flex-col items-center justify-center h-full text-center text-yellow-800/70">
                                    <img src="images/bombers-notebook.png" alt="Bomber's Notebook" class="w-32 h-32 opacity-50 mb-4" loading="lazy">
                                    <h3 class="text-2xl font-zelda">Select a quest to view details</h3>
                                    <p>Your progress will be saved automatically.</p>
                                </div>
                                <div id="quest-detail-view" class="hidden w-full h-full flex-col">
                                    <header class="pb-3 mb-4 border-b-2 border-yellow-700/50">
                                        <h3 id="quest-title" class="text-3xl font-zelda text-yellow-200 title-glow"></h3>
                                        <p id="quest-region" class="text-yellow-700 font-medium"></p>
                                    </header>
                                    <div id="quest-steps-container" class="flex-grow overflow-y-auto pr-2">
                                        <!-- Quest steps will be populated here -->
                                    </div>
                                    <footer class="pt-3 mt-4 border-t-2 border-yellow-700/50">
                                        <h4 class="font-zelda text-yellow-600 text-xl">Rewards</h4>
                                        <div id="quest-rewards-list" class="flex flex-wrap gap-4 mt-2"></div>
                                        <div id="quest-characters-list" class="flex flex-wrap gap-4 mt-2"></div>
                                    </footer>
                                </div>
                            </main>
                        </div>
                    </div>
                </div>
                <div id="fairies-content" class="main-content hidden">
                    <div class="w-full h-full max-w-screen-xl p-4 md:p-6 rounded-2xl main-container flex flex-col">
                        <header class="flex justify-between items-center mb-4 border-b border-purple-400/30 pb-3 flex-shrink-0">
                            <h2 id="fairies-title" class="text-3xl md:text-4xl text-yellow-200 title-glow">Stray Fairy Locations</h2>
                            <div class="flex items-center gap-2">
                                <button id="version-toggle-3ds" class="btn-back text-sm active">3DS</button>
                                <button id="version-toggle-n64" class="btn-back text-sm">N64</button>
                            </div>
                        </header>
                        <main class="flex-grow flex flex-col md:flex-row gap-4 min-h-0">
                            <div id="fairy-temple-tabs" class="flex md:flex-col gap-2 md:gap-4 overflow-x-auto md:overflow-y-auto pb-2 md:pb-0 md:pr-4 border-b-2 md:border-b-0 md:border-r-2 border-purple-400/30 flex-shrink-0"></div>
                            <div id="fairy-checklist-container" class="flex-grow overflow-y-auto"></div>
                        </main>
                    </div>
                </div>
                <div id="heart-containers-content" class="main-content hidden">
                    <div class="w-full h-full max-w-screen-xl p-4 md:p-6 rounded-2xl main-container flex flex-col">
                        <header class="flex flex-col sm:flex-row justify-between items-center mb-4 border-b border-pink-400/30 pb-3 flex-shrink-0">
                            <h2 class="text-3xl md:text-4xl text-pink-200 title-glow-pink">Heart Pieces</h2>
                            <div class="flex items-center gap-4">
                                <div class="flex items-center gap-2">
                                    <button id="version-toggle-3ds-hearts" class="btn-back text-sm">3DS</button>
                                    <button id="version-toggle-n64-hearts" class="btn-back text-sm active">N64</button>
                                </div>
                                <div class="flex items-center gap-2 text-lg font-bold text-pink-200">
                                    <img src="images/heart_container_icon.png" class="w-8 h-8" loading="lazy">
                                    <span id="heart-container-counter">3</span>
                                    <img id="heart-piece-preview" src="images/empty_heart.png" class="w-8 h-8" loading="lazy">
                                    <span id="heart-piece-counter">0/51</span>
                                </div>
                            </div>
                        </header>
                        <div id="link-hearts-container" class="link-hearts-container"></div>
                        <main id="heart-checklist-container" class="flex-grow overflow-y-auto p-2"></main>
                    </div>
                </div>
            </div>

            <button id="toggle-ui-button" class="btn-toggle-ui">
                <svg id="icon-eye-open" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10 7Z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                <svg id="icon-eye-closed" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden"><path d="M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"></path><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"></path><line x1="2" x2="22" y1="2" y2="22"></line><path d="M14.12 14.12A3 3 0 1 1 9.88 9.88"></path></svg>
            </button>
        </div>

        <div id="item-detail-view" class="view-container">
             <div class="w-full h-full max-w-4xl p-6 md:p-8 rounded-2xl main-container flex flex-col">
                <header class="flex justify-between items-center mb-6 border-b border-purple-400/30 pb-4 flex-shrink-0">
                    <div class="flex items-center gap-4">
                        <img id="item-detail-image" src="" alt="Item Image" class="h-16 w-16 object-contain" loading="lazy">
                        <h2 id="item-detail-title" class="text-4xl md:text-5xl font-zelda text-yellow-200 title-glow"></h2>
                    </div>
                    <button id="item-detail-back-button" class="btn-back">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7" /></svg>
                        Back
                    </button>
                </header>
                <main class="flex-grow overflow-y-auto pr-2 text-purple-100/90">
                    <div id="item-detail-description" class="text-lg mb-6"></div>
                    <h3 class="text-2xl font-zelda text-yellow-200 title-glow mb-2">How to get it</h3>
                    <div id="item-detail-acquisition" class="text-lg"></div>
                    <div id="item-actions" class="mt-6"></div>
                </main>
            </div>
        </div>

        <div id="song-detail-view" class="view-container">
             <div class="w-full h-full max-w-6xl p-6 md:p-8 rounded-2xl main-container flex flex-col">
                <header class="flex justify-between items-center mb-6 border-b border-purple-400/30 pb-4 flex-shrink-0">
                    <div class="flex items-center gap-4">
                        <h2 id="song-title" class="text-4xl md:text-5xl font-zelda text-yellow-200 title-glow"></h2>
                        <img id="instrument-image" src="images/linkOcarina.webp" alt="Instrument" class="h-16 object-contain" loading="lazy">
                    </div>
                    <button id="back-button" class="btn-back">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7" /></svg>
                        Back
                    </button>
                </header>
                <div class="flex flex-col lg:flex-row gap-8 flex-grow min-h-0">
                    <div class="lg:w-7/12 w-full">
                         <div class="aspect-w-16 aspect-h-9 rounded-lg overflow-hidden shadow-2xl border-4 border-black/50 video-container">
                            <iframe id="youtube-player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                    </div>
                    <div id="notes-container" class="lg:w-5/12 w-full space-y-5 overflow-y-auto pr-2"></div>
                </div>
            </div>
        </div>

        <div id="maps-view" class="view-container">
             <div class="w-full h-full max-w-screen-xl p-6 md:p-8 rounded-2xl main-container flex flex-col">
                <header class="flex justify-between items-center mb-6 border-b border-purple-400/30 pb-4 flex-shrink-0">
                    <h2 class="text-4xl md:text-5xl text-yellow-200 title-glow">Tingle's Maps</h2>
                    <button id="maps-back-button" class="btn-back">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7" /></svg>
                        Back
                    </button>
                </header>
                <main id="map-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 overflow-y-auto p-2"></main>
             </div>
        </div>
        
        <div id="termina-map-view" class="view-container">
             <div class="w-full h-full max-w-screen-2xl p-2 sm:p-4 md:p-6 rounded-2xl main-container flex flex-col">
                <header class="flex justify-between items-center mb-4 border-b border-purple-400/30 pb-3 flex-shrink-0">
                    <h2 class="text-3xl md:text-4xl text-yellow-200 title-glow">Map of Termina</h2>
                    <button id="termina-map-back-button" class="btn-back">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7" /></svg>
                        Back
                    </button>
                </header>
                <main class="flex-grow w-full h-full overflow-auto flex items-center justify-center">
                    <img src="maps/interactmap/fulltermina.png" alt="Interactive Map of Termina" class="max-w-full max-h-full object-contain" loading="lazy">
                </main>
             </div>
        </div>

        <div id="character-detail-view" class="view-container">
            <div class="w-full h-full max-w-6xl p-6 md:p-8 rounded-2xl main-container flex flex-col">
                <header class="flex justify-between items-center mb-6 border-b border-purple-400/30 pb-4 flex-shrink-0">
                    <div class="flex items-center gap-4">
                        <h2 id="character-name" class="text-4xl md:text-5xl font-zelda text-yellow-200 title-glow"></h2>
                        <img id="character-icon" src="" alt="Character Icon" class="h-16 object-contain" loading="lazy">
                    </div>
                    <button id="character-detail-back-button" class="btn-back">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7" /></svg>
                        Back
                    </button>
                </header>
                <div class="flex flex-col lg:flex-row gap-8 flex-grow min-h-0">
                    <div class="lg:w-7/12 w-full">
                        <div id="character-description" class="text-lg text-purple-100/90"></div>
                    </div>
                    <div id="character-art-container" class="lg:w-5/12 w-full space-y-5 overflow-y-auto pr-2">
                        <img id="character-full-art" src="" alt="Character Artwork" class="w-full h-auto object-contain" loading="lazy">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Game Switcher -->
    <div id="game-switcher-container" class="fixed bottom-4 left-1/2 -translate-x-1/2 z-50">
        <div id="game-switcher" class="game-switcher">
            <button data-game="majoras-mask" class="game-choice active">Majora's Mask</button>
            <button data-game="ocarina-of-time" class="game-choice">Ocarina of Time</button>
        </div>
        <button id="game-switcher-pill" class="game-switcher-pill">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"/></svg>
        </button>
    </div>

    <!-- Modals -->
    <div id="map-modal" class="map-modal-overlay">
        <div class="map-modal-header">
            <h3 id="map-modal-title" class="map-modal-title"></h3>
            <button id="map-modal-close" class="map-modal-close-btn">&times;</button>
        </div>
        <button id="map-modal-prev" class="map-modal-nav prev">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
        </button>
        <img id="map-modal-image" src="" alt="Full size map" loading="lazy">
        <button id="map-modal-next" class="map-modal-nav next">
             <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
        </button>
    </div>

    <div id="controller-modal" class="controller-modal-overlay">
        <button id="controller-modal-close" class="controller-modal-close-btn">&times;</button>
        <div id="controller-modal-content">
            <img id="controller-modal-image" src="" alt="Controller Layout" loading="lazy">
        </div>
    </div>

    <div id="item-detail-modal" class="item-detail-modal-overlay">
        <!-- Content injected by items-view.js -->
    </div>

    <!-- Scripts -->
    <script type="module" src="scripts/app.js" defer></script>
</body>
</html>
